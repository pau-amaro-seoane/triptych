--------
TRIPTYCH
--------
Version 0.4
Oct 8, 2022
https://github.com/pau-amaro-seoane/triptych

BACKGROUND INFORMATION
----------------------

TRIPTYCH is a computer program that simulates the collision of two stars,
including the orbital trajectories, merger, and evolution of the merger
product. The code therefore joins three branches of stellar astrophysics:
dynamics, hydrodynamics and evolution. This program is a first step toward
realistic dynamical simulations of star clusters that include stellar
collisions and stellar evolution.

The primary code developers and contributors are Jarrod Hurley (AMNH), Piet Hut
(IAS), Vicki Johnson (Pomona), James Lombardi (Vassar), Jun Makino (Tokyo),
Steve McMillan (Drexel), Peter Teuben (Maryland), and Jessica Sawyer Warren
(Rutgers), and will hopefully include many others in the future. Once we
replace the Numerical Recipe routines, this code will be free software licensed
under the GNU GPL.

This program is an outgrowth of the first MODEST workshop. MODEST stands for
MOdeling DEnse STellar systems. For more information, see the MODEST homepage
and the following summary article.

       "MODEST-1: Integrating Stellar Evolution and Stellar Dynamics."
       Hut, Shara, Aarseth, Klessen, Lombardi, Makino, McMillan, Pols,
       Teuben, and Webbink 2002, submitted to New Astronomy; astro-ph/0207318.

FILES
-----
Distributed with TRIPTYCH are the following files in different directories

RUNS:
README    clean.sh input     run.sh

bin:
triptych (executable, you need to produce this)

docs:
CHANGES  LICENSE  README   copying

sev1:
modest_evolution.f  modest_star.h

sev2:
modest_evolution0.0.f     modest_star.h

src:
dynamics.h          makemeastar.f       modest_dynamics.f   mrenv.f             star.f              zcnsts.f
hrdiag.f            mlwind.f            modest_evolution.f  params.h            triptych*           zdata.h
makefile            modest_common.h     modest_star.h       recipes.f           triptych.f          zfuncs.f

stellar_models:
m04.mdl  m06.mdl  m08.mdl

tools:
afvsai_triptych.f   sample_input        triptych.sm

A brief description :
--------------------

triptych.f	  : The main program that calls the dynamics, merger and
		        evolution modules
modest_dynamics.f : Contains the subroutines that treat the orbital motion of
                    the parent stars 
makemeastar.f	  : Contains the subroutine makemeastar that determines the
		            profiles of a collision product.
modest_evolution.f: Contains the subroutines that treat the stellar evolution
                    of the collision product
makefile	  : A sample makefile that generates an executable

sev1:            contains the original "toy model" stellar evolution routines of
                 Hut and Makino.

sev2:            contains the default stellar evolution routines: Hurley's SSE
                 wrappers and library (compiled with intel fortran compiler).


m0*.mdl		  : Sample input data files, generated from data from the Yale
		        Rotational Evolution Code, that model the profiles in
		        Population II main sequence parent stars of 0.4, 0.6 and 0.8
		        solar masses.  Data in these files are in cgs units:
		        Column 1 = Enclosed mass m 
		        Column 2 = Radius at this m
		        Column 3 = Pressure at this m
		        Column 4 = Density at this m
		        Columns 5 through 18 = the fraction chemical abundances, by
		        mass, for H, metals, He3, C12, C13, N14, N15, O16, O17, O18,
		        H2, Li6, Li7, and Be9, in that order.

afvsai_triptych.f : This code assumes that triptych collided two identical stars and calls the
                    hydro output file product.dat.

                 The code reads in product.dat line by line. On each line, it
                 
                 (1) reads in the values of m, P, and rho
                 
                 (2) calculates A=P/rho^(5/3).
                 
                 (3) finds the two lines in the .mdl file that have mini values that straddle
                 m/2, the first of these two lines gives "last" quantities in the code below
                 
                 (4) interpolates between these lines to get Piniuse and ainiuse
                 
                 (5) prints to a file a line of data that contains log10(A-Aini) and log10(Pini)
                 for plotting later.
                 
                 We expect to find a slope of -1.1 on a log-log plot, since that is what
                 triptych/mmas is using under the hood.

triptych.sm       : A file containing sample Super-Mongo macros for
		            plotting the data generated by TRIPTYCH

GETTING STARTED
---------------
Once you have downloaded and uncompressed the source code, you can
try out TRIPTYCH by completing the following steps.

1. Change into the directory containing the source code.

2. Type at the command prompt:

	 $ make -f makefile  # (for linux, with gfortran)
     $ gmake -f makefile # (for OpenBSD, with egfortran)

3. To execute the resulting executable type,

	$ ./triptych

and then follow the instructions, or, for a faster start,

    $ ./triptych < sample_input > LOG

Should you have comments or suggestions, please consider emailing
jalombar@allegheny.edu and amaro@riseup.net  Our hope is that the software
package will evolve to meet the needs of the dense stellar cluster community.

ACKNOWLEDGMENTS
---------------
This material is based upon work supported by the National Science
Foundation under Grant No. 0071165 at Vassar. Any opinions, findings,
and conclusions or recommendations expressed in this material are
those of the authors and do not necessarily reflect the views of the
National Science Foundation.

